<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta
      name="description"
      content="Age of Empires 2: Definitive Edition rating distribution histogram for the 1v1 Random Map ladder.">

    <title>AoE2:DE rating distribution</title>

    <link rel="shortcut icon" href="#" />

    <link href="static/base.css" rel="stylesheet">
    <script defer>
      fetch('https://api.github.com/gists/ab54bc15dfc0f41b6825546d8aa38edf')
        .then((response) => response.json())
        .then((raw) => {
          document.getElementById('hist').src = raw.files['hist.svg'].raw_url;

          const d = JSON.parse(raw.files['stats.json'].content);
          document.getElementById('player-count').innerHTML = d.stats.count;
          document.getElementById('median-rating').innerHTML = d.stats.median;
          document.getElementById('latest').innerHTML = d.date;
        });
    </script>
  </head>

  <body>
    <main>
      <h1>Age of Empires II: DE <u>rating distribution</u></h1>

      <img id="hist" alt="Player rating histogram" width="600" height="400">
    </main>

    <section id="description">
      <h2>What's this?</h2>

      <p>
        This is an histogram of the 1v1 Random Map ranked playlist active population for
        <a href="https://www.ageofempires.com/games/aoeiide/">Age of Empires II: Definitive Edition</a>.
      </p>

      <p>
        There are a total of <code id="player-count"></code> active players
        and the median rating is <code id="median-rating"></code>.
      </p>

      <p style="margin-top: 2rem">
        The underlying data is updated daily and collected by <a href="https://aoe2.net">AoE2.net</a>.
        Last updated on <code id="latest"></code>.
      </p>
    </section>
  </body>

  <footer>
    <a href="https://github.com/tlgs/wololo">
      <img alt="source code" src="static/GitHub-Mark-32px.png" width="32" height="32">
    </a>
  </footer>
</html>
